services:
    fulgurio_user.registration_listener:
        class: Fulgurio\UserBundle\EventListener\RegistrationListener
        arguments: [ "@service_container" ]
        tags:
            - { name: kernel.event_subscriber }
    fulgurio_user.mailer:
        class: Fulgurio\UserBundle\Mailer\TwigSwiftMailer
        arguments:
            - "@mailer"
            - "@router"
            - "@twig"
            -
                template:
                    change_password: %fulgurio_user.change_password.email.template%
                    unsubscribe:     %fulgurio_user.unsubscribe.email.template%
                    ban:             %fulgurio_user.ban.email.template%
                    unban:           %fulgurio_user.unban.email.template%
                from_email:
                    change_password: %fulgurio_user.change_password.email.from_email%
                    unsubscribe:     %fulgurio_user.unsubscribe.email.from_email%
                    ban:             %fulgurio_user.ban.email.from_email%
                enabled:
                    unsubscribe:     %fulgurio_user.unsubscribe.email.enabled%
                    ban:             %fulgurio_user.ban.email.enabled%
    fulgurio_user.twig.extension:
        class: Fulgurio\UserBundle\Extension\TwigExtension
        arguments: [ "@service_container" ]
        tags:
            -  { name: twig.extension }
    fulgurio_user.profile.form.type:
        class: Fulgurio\UserBundle\Form\Type\ProfileFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: fulgurio_user_profile }
    fulgurio_user.profile_with_password_edition.form.type:
        class: Fulgurio\UserBundle\Form\Type\ProfileWithPasswordEditionFormType
        arguments: [%fos_user.model.user.class%]
        tags:
            - { name: form.type, alias: fulgurio_user_profile_with_password_edition }
